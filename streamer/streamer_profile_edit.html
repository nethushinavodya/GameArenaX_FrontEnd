<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Edit Streamer Profile - Gaming Profile Manager</title>
  <link rel="stylesheet" href="../assets/css/main.css" />
  <link rel="stylesheet" href="../assets/css/tailwind.css" />
  <link rel="stylesheet" href="../assets/css/home.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fgamingpro2929back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.8"></script>
</head>
<body class="bg-background min-h-screen text-text-primary font-inter">
<!-- Navigation Header -->
<nav class="bg-surface border-b border-surface-700 sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <!-- Logo -->
      <div class="flex items-center">
        <svg class="w-10 h-10 text-primary" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="40" height="40" rx="8" fill="currentColor"/>
          <path d="M12 16L20 24L28 16" stroke="#0F172A" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="20" cy="12" r="3" fill="#0F172A"/>
        </svg>
        <span class="ml-3 text-xl font-bold text-gaming-heading">GameHub</span>
      </div>

      <!-- Navigation Links -->
      <div class="hidden md:flex items-center space-x-8">
        <a href="streamer_profile_view.html" class="text-text-secondary hover:text-text-primary transition-colors">Profile</a>
        <a href="stream_dashboard.html" class="text-text-secondary hover:text-text-primary transition-colors">Dashboard</a>
        <a href="tournaments.html" class="text-text-secondary hover:text-text-primary transition-colors">Tournaments</a>
      </div>

      <!-- Mobile Menu Button -->
      <div class="md:hidden">
        <button type="button" class="text-text-secondary hover:text-text-primary p-2" onclick="toggleMobileMenu()">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
</nav>

<!-- Main Content -->
<main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <!-- Page Header -->
  <div class="mb-8">
    <div class="flex items-center mb-4">
      <a href="streamer_profile.html" class="text-text-secondary hover:text-primary transition-colors mr-4">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
      </a>
      <div>
        <h1 class="text-3xl font-bold text-gaming-heading">Edit Streamer Profile</h1>
        <p class="text-text-secondary">Update your streaming profile information</p>
      </div>
    </div>
  </div>

  <!-- Edit Profile Form -->
  <form id="streamerEditForm" class="space-y-8">
    <!-- Profile Picture Section -->
    <div class="bg-surface rounded-gaming-card shadow-gaming border border-surface-700 p-6 sm:p-8">
      <h2 class="text-xl font-semibold text-gaming-heading mb-6 flex items-center">
        <svg class="w-6 h-6 text-primary mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
        </svg>
        Profile Picture
      </h2>

      <div class="flex flex-col sm:flex-row items-center sm:items-start gap-6">
        <!-- Current Profile Picture -->
        <div class="relative group">
          <div class="w-32 h-32 rounded-full overflow-hidden border-4 border-primary glow-primary group-hover:glow-primary-strong transition-all duration-gaming">
            <img id="profilePreview" src="https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=400" alt="Profile Picture" class="w-full h-full object-cover" onerror="this.src='https://images.unsplash.com/photo-1584824486509-112e4181ff6b?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'; this.onerror=null;" loading="lazy" />
          </div>
          <!-- Live Status Badge -->
          <div class="absolute -bottom-2 -right-2 bg-success text-white text-xs font-bold px-2 py-1 rounded-full border-2 border-surface">
              Verified
          </div>
          <!-- Verified Badge -->
          <div class="absolute -top-2 -left-2 bg-primary text-white text-xs font-bold p-1 rounded-full border-2 border-surface">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
          </div>
        </div>

        <!-- Upload Controls -->
        <div class="flex-1 w-full">
          <!-- Drag and Drop Area -->
          <div id="dropZone" class="border-2 border-dashed border-surface-700 rounded-gaming-card p-6 text-center hover:border-primary transition-colors duration-gaming cursor-pointer bg-surface-800/50" ondrop="handleDrop(event)" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" onclick="document.getElementById('profilePicture').click()">
            <svg class="w-12 h-12 text-text-secondary mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
            </svg>
            <p class="text-text-primary font-medium mb-2">Drop your image here or click to browse</p>
            <p class="text-text-secondary text-sm">PNG, JPG, GIF up to 5MB</p>
          </div>

          <input type="file" id="profilePicture" name="profilePicture" accept="image/*" class="hidden" onchange="handleFileSelect(event)" />

          <!-- Upload Status -->
          <div id="uploadStatus" class="mt-4 hidden">
            <div class="flex items-center text-sm">
              <div class="w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin mr-2"></div>
              <span class="text-text-secondary">Uploading...</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Streamer Information Section -->
    <div class="bg-surface rounded-gaming-card shadow-gaming border border-surface-700 p-6 sm:p-8">
      <h2 class="text-xl font-semibold text-gaming-heading mb-6 flex items-center">
        <svg class="w-6 h-6 text-primary mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"/>
        </svg>
        Streamer Information
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Read-only UUID -->
        <div class="md:col-span-2">
          <label class="block text-sm font-medium text-text-secondary mb-2">Streamer ID (Read-only)</label>
          <div class="bg-surface-800 border border-surface-700 rounded-gaming px-4 py-3 text-gaming-data text-sm text-text-secondary">
            550e8400-e29b-41d4-a716-446655440000
          </div>
        </div>

        <!-- Email -->
        <div>
          <label for="email" class="block text-sm font-medium text-text-secondary mb-2">Email Address (Read Only)</label>
          <div id="email" class="bg-surface-800 border border-surface-700 rounded-gaming px-4 py-3 text-gaming-data text-sm text-text-secondary">
            stream@gmail.com
          </div>
        </div>


        <!-- Read-only Status Fields -->
        <div>
          <label class="block text-sm font-medium text-text-secondary mb-2">Verification Status (Read-only)</label>
          <div class="bg-surface-800 border border-surface-700 rounded-gaming px-4 py-3 flex items-center">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-success/20 text-success border border-success/30">
                                <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                                </svg>
                                Verified
                            </span>
          </div>
        </div>

        <!--label saying you can edit these details-->
        <div class="md:col-span-2">
          <label class="block text-sm font-medium text-warning mb-2">You can edit the following details:</label>
        </div>

        <!-- Display Name -->
        <div>
          <label for="displayName" class="block text-sm font-medium text-text-secondary mb-2">Display Name</label>
          <input type="text" id="displayName" name="displayName" value="StreamMaster2025" class="w-full bg-surface-800 border border-surface-700 rounded-gaming px-4 py-3 text-text-primary form-field-gaming focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" required minlength="3" maxlength="30" />
          <div id="displayNameError" class="mt-1 text-sm text-error hidden">Display name must be 3-30 characters</div>
          <div id="displayNameSuccess" class="mt-1 text-sm text-success hidden">Display name is valid</div>
        </div>


        <!-- Platform -->
        <div>
          <label for="platform" class="block text-sm font-medium text-text-secondary mb-2">Streaming Platform</label>
          <select id="platform" name="platform" class="w-full bg-surface-800 border border-surface-700 rounded-gaming px-4 py-3 text-text-primary form-field-gaming focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" required>
            <option value="">Select Platform</option>
            <option value="Twitch" selected>ðŸŸ£ Twitch</option>
            <option value="YouTube">ðŸ”´ YouTube</option>
            <option value="Facebook">ðŸ”µ Facebook Gaming</option>
            <option value="TikTok">âš« TikTok Live</option>
            <option value="Kick">ðŸŸ¢ Kick</option>
            <option value="Other">ðŸ”¶ Other</option>
          </select>
        </div>

        <!-- Stream URL -->
        <div>
          <label for="streamUrl" class="block text-sm font-medium text-text-secondary mb-2">Stream URL</label>
          <input type="url" id="streamUrl" name="streamUrl" value="https://twitch.tv/streammaster2025" class="w-full bg-surface-800 border border-surface-700 rounded-gaming px-4 py-3 text-text-primary form-field-gaming focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" required placeholder="https://twitch.tv/yourusername" />
          <div id="streamUrlError" class="mt-1 text-sm text-error hidden">Please enter a valid URL</div>
          <div id="streamUrlSuccess" class="mt-1 text-sm text-success hidden">Stream URL is valid</div>
        </div>

        <!-- Country -->
        <div>
          <label for="country" class="block text-sm font-medium text-text-secondary mb-2">Country</label>
          <select id="country" name="country" class="w-full bg-surface-800 border border-surface-700 rounded-gaming px-4 py-3 text-text-primary form-field-gaming focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" required>
            <option value="">Select Country</option>
            <option value="US" selected>ðŸ‡ºðŸ‡¸ United States</option>
            <option value="CA">ðŸ‡¨ðŸ‡¦ Canada</option>
            <option value="GB">ðŸ‡¬ðŸ‡§ United Kingdom</option>
            <option value="DE">ðŸ‡©ðŸ‡ª Germany</option>
            <option value="FR">ðŸ‡«ðŸ‡· France</option>
            <option value="JP">ðŸ‡¯ðŸ‡µ Japan</option>
            <option value="KR">ðŸ‡°ðŸ‡· South Korea</option>
            <option value="AU">ðŸ‡¦ðŸ‡º Australia</option>
            <option value="BR">ðŸ‡§ðŸ‡· Brazil</option>
            <option value="IN">ðŸ‡®ðŸ‡³ India</option>
            <option value="MX">ðŸ‡²ðŸ‡½ Mexico</option>
            <option value="ES">ðŸ‡ªðŸ‡¸ Spain</option>
            <option value="IT">ðŸ‡®ðŸ‡¹ Italy</option>
            <option value="NL">ðŸ‡³ðŸ‡± Netherlands</option>
            <option value="SE">ðŸ‡¸ðŸ‡ª Sweden</option>
          </select>
        </div>

      </div>

      <!-- Bio Section -->
      <div class="mt-6">
        <label for="bio" class="block text-sm font-medium text-text-secondary mb-2">Bio</label>
        <textarea id="bio" name="bio" rows="4" maxlength="500" class="w-full bg-surface-800 border border-surface-700 rounded-gaming px-4 py-3 text-text-primary form-field-gaming focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary resize-none" placeholder="Tell your audience about yourself, your streaming style, and what they can expect from your content...">Professional streamer specializing in competitive FPS games and educational content. Been streaming for over 4 years with a focus on high-level gameplay analysis and viewer interaction. Join the community for daily streams featuring Valorant, CS2, and occasional variety games. Always happy to help viewers improve their gameplay!</textarea>
        <div class="flex justify-between items-center mt-2">
          <div id="bioError" class="text-sm text-error hidden">Bio cannot be empty</div>
          <div class="text-sm text-text-secondary">
            <span id="bioCount">483</span>/500 characters
          </div>
        </div>
      </div>
    </div>

    <!-- Streaming Settings Section -->
    <div class="bg-surface rounded-gaming-card shadow-gaming border border-surface-700 p-6 sm:p-8">
      <h2 class="text-xl font-semibold text-gaming-heading mb-6 flex items-center">
        <svg class="w-6 h-6 text-accent mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
        </svg>
        Streaming Status & Info
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Read-only Current Status -->
        <div>
          <label class="block text-sm font-medium text-text-secondary mb-2">Current Stream Status (Read-only)</label>
          <div class="bg-surface-800 border border-surface-700 rounded-gaming px-4 py-3 flex items-center">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-error/20 text-red-400 border border-error/30">
                                <div class="w-2 h-2 bg-error rounded-full mr-1.5 animate-pulse"></div>
                                Live Now
                            </span>
          </div>
        </div>

        <!-- Read-only Follower Count -->
        <div>
          <label class="block text-sm font-medium text-text-secondary mb-2">Followers (Read-only)</label>
          <div class="bg-surface-800 border border-surface-700 rounded-gaming px-4 py-3 text-accent font-medium">
            125,742 followers
          </div>
        </div>

        <!-- Read-only Join Date -->
        <div>
          <label class="block text-sm font-medium text-text-secondary mb-2">Joined Date (Read-only)</label>
          <div class="bg-surface-800 border border-surface-700 rounded-gaming px-4 py-3 text-text-secondary">
            March 15, 2021
          </div>
        </div>

        <!-- Read-only Last Live -->
        <div>
          <label class="block text-sm font-medium text-text-secondary mb-2">Last Live (Read-only)</label>
          <div class="bg-surface-800 border border-surface-700 rounded-gaming px-4 py-3 text-text-secondary">
            Currently streaming
          </div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex flex-col sm:flex-row gap-4 justify-end">
      <a href="streamer_profile_view.html" class="inline-flex items-center justify-center px-6 py-3 border border-surface-700 text-text-primary font-medium rounded-gaming btn-gaming hover:bg-surface-700 focus:outline-none focus:ring-2 focus:ring-surface-700 focus:ring-offset-2 focus:ring-offset-surface transition-colors duration-gaming">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
        Cancel
      </a>
      <button type="submit" class="inline-flex items-center justify-center px-6 py-3 bg-primary text-background font-medium rounded-gaming btn-gaming hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-surface transition-colors duration-gaming">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
        </svg>
        Save Changes
      </button>
    </div>
  </form>

  <!-- Success/Error Messages -->
  <div id="successMessage" class="fixed top-20 right-4 bg-success text-background px-6 py-4 rounded-gaming shadow-gaming-lg hidden z-50">
    <div class="flex items-center">
      <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
      </svg>
      Streamer profile updated successfully!
    </div>
  </div>

  <div id="errorMessage" class="fixed top-20 right-4 bg-error text-background px-6 py-4 rounded-gaming shadow-gaming-lg hidden z-50">
    <div class="flex items-center">
      <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
      </svg>
      <span id="errorText">An error occurred. Please try again.</span>
    </div>
  </div>
</main>

<!-- Footer -->
<footer class="bg-surface border-t border-surface-700 mt-16">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <div class="text-center">
      <p class="text-text-secondary text-sm">Â© 2025 GameHub. All Rights Reserved.</p>
      <p class="text-text-secondary text-xs mt-2">Empowering streamers worldwide</p>
    </div>
  </div>
</footer>

<!-- Mobile Navigation Menu (Hidden by default) -->
<div class="md:hidden fixed inset-0 z-50 hidden" id="mobile-menu">
  <div class="fixed inset-0 bg-background/80 backdrop-blur-sm" onclick="toggleMobileMenu()"></div>
  <div class="fixed top-0 right-0 w-64 h-full bg-surface border-l border-surface-700 p-6">
    <div class="flex justify-between items-center mb-8">
      <span class="text-lg font-bold text-gaming-heading">Menu</span>
      <button type="button" class="text-text-secondary hover:text-text-primary" onclick="toggleMobileMenu()">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>
    <nav class="space-y-4">
      <a href="streamer_profile_view.html" class="block text-text-secondary hover:text-text-primary py-2">Profile</a>
      <a href="stream_dashboard.html" class="block text-text-secondary hover:text-text-primary py-2">Dashboard</a>
      <a href="tournaments.html" class="block text-text-secondary hover:text-text-primary py-2">Tournaments</a>
    </nav>
  </div>
</div>

<script>
  // Mobile menu toggle
  function toggleMobileMenu() {
    const menu = document.getElementById('mobile-menu');
    menu.classList.toggle('hidden');
  }

  // File upload handling
  function handleFileSelect(event) {
    const file = event.target.files[0];
    if (file) {
      validateAndPreviewFile(file);
    }
  }

  function handleDrop(event) {
    event.preventDefault();
    const dropZone = document.getElementById('dropZone');
    dropZone.classList.remove('border-primary');

    const files = event.dataTransfer.files;
    if (files.length > 0) {
      validateAndPreviewFile(files[0]);
    }
  }

  function handleDragOver(event) {
    event.preventDefault();
    const dropZone = document.getElementById('dropZone');
    dropZone.classList.add('border-primary');
  }

  function handleDragLeave(event) {
    event.preventDefault();
    const dropZone = document.getElementById('dropZone');
    dropZone.classList.remove('border-primary');
  }

  function validateAndPreviewFile(file) {
    // Validate file type
    const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/gif'];
    if (!validTypes.includes(file.type)) {
      showError('Please select a valid image file (JPG, PNG, GIF)');
      return;
    }

    // Validate file size (5MB)
    if (file.size > 5 * 1024 * 1024) {
      showError('File size must be less than 5MB');
      return;
    }

    // Show upload status
    const uploadStatus = document.getElementById('uploadStatus');
    uploadStatus.classList.remove('hidden');

    // Preview image
    const reader = new FileReader();
    reader.onload = function(e) {
      document.getElementById('profilePreview').src = e.target.result;
      uploadStatus.classList.add('hidden');
    };
    reader.readAsDataURL(file);
  }

  // Display Name validation
  document.getElementById('displayName').addEventListener('input', function(e) {
    const displayName = e.target.value;
    const errorDiv = document.getElementById('displayNameError');
    const successDiv = document.getElementById('displayNameSuccess');

    if (displayName.length < 3 || displayName.length > 30) {
      errorDiv.classList.remove('hidden');
      successDiv.classList.add('hidden');
    } else {
      errorDiv.classList.add('hidden');
      successDiv.classList.remove('hidden');
    }
  });

  // Email validation
  document.getElementById('email').addEventListener('input', function(e) {
    const email = e.target.value;
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    const errorDiv = document.getElementById('emailError');
    const successDiv = document.getElementById('emailSuccess');

    if (email.length > 0) {
      if (emailRegex.test(email)) {
        errorDiv.classList.add('hidden');
        successDiv.classList.remove('hidden');
      } else {
        errorDiv.classList.remove('hidden');
        successDiv.classList.add('hidden');
      }
    } else {
      errorDiv.classList.add('hidden');
      successDiv.classList.add('hidden');
    }
  });

  // Stream URL validation
  document.getElementById('streamUrl').addEventListener('input', function(e) {
    const url = e.target.value;
    const errorDiv = document.getElementById('streamUrlError');
    const successDiv = document.getElementById('streamUrlSuccess');

    try {
      if (url.length > 0) {
        new URL(url);
        errorDiv.classList.add('hidden');
        successDiv.classList.remove('hidden');
      } else {
        errorDiv.classList.add('hidden');
        successDiv.classList.add('hidden');
      }
    } catch {
      errorDiv.classList.remove('hidden');
      successDiv.classList.add('hidden');
    }
  });

  // Bio character counter
  document.getElementById('bio').addEventListener('input', function(e) {
    const bio = e.target.value;
    const count = document.getElementById('bioCount');
    const errorDiv = document.getElementById('bioError');

    count.textContent = bio.length;

    if (bio.length === 0) {
      errorDiv.classList.remove('hidden');
    } else {
      errorDiv.classList.add('hidden');
    }
  });

  // Platform change handler
  document.getElementById('platform').addEventListener('change', function(e) {
    const platform = e.target.value;
    const streamUrlField = document.getElementById('streamUrl');

    // Update placeholder based on platform
    const placeholders = {
      'Twitch': 'https://twitch.tv/yourusername',
      'YouTube': 'https://youtube.com/@yourusername',
      'Facebook': 'https://facebook.com/gaming/yourusername',
      'TikTok': 'https://tiktok.com/@yourusername',
      'Kick': 'https://kick.com/yourusername',
      'Other': 'https://yourplatform.com/yourusername'
    };

    streamUrlField.placeholder = placeholders[platform] || 'https://yourplatform.com/yourusername';
  });

  // Form submission
  document.getElementById('streamerEditForm').addEventListener('submit', function(e) {
    e.preventDefault();

    // Validate required fields
    const requiredFields = ['displayName', 'email', 'platform', 'streamUrl', 'country'];
    let isValid = true;

    requiredFields.forEach(fieldName => {
      const field = document.getElementById(fieldName);
      if (!field.value.trim()) {
        isValid = false;
        field.classList.add('border-error');
      } else {
        field.classList.remove('border-error');
      }
    });

    if (!isValid) {
      showError('Please fill in all required fields');
      return;
    }

    // Validate bio
    const bio = document.getElementById('bio').value;
    if (bio.length === 0) {
      showError('Bio cannot be empty');
      return;
    }

    // Simulate form submission
    const submitButton = e.target.querySelector('button[type="submit"]');
    const originalText = submitButton.innerHTML;

    submitButton.innerHTML = `
                <div class="w-5 h-5 border-2 border-background border-t-transparent rounded-full animate-spin mr-2"></div>
                Saving...
            `;
    submitButton.disabled = true;

    // Simulate API call
    setTimeout(() => {
      submitButton.innerHTML = originalText;
      submitButton.disabled = false;
      showSuccess();

      // Log the data that would be sent to backend
      console.log('Streamer update data:', {
        displayName: document.getElementById('displayName').value,
        email: document.getElementById('email').value,
        bio: document.getElementById('bio').value,
        platform: document.getElementById('platform').value,
        streamUrl: document.getElementById('streamUrl').value,
        country: document.getElementById('country').value
      });
    }, 2000);
  });

  function showSuccess() {
    const successMessage = document.getElementById('successMessage');
    successMessage.classList.remove('hidden');
    setTimeout(() => {
      successMessage.classList.add('hidden');
      // Redirect to streamer profile view
      window.location.href = 'streamer_profile_view.html';
    }, 3000);
  }

  function showError(message) {
    const errorMessage = document.getElementById('errorMessage');
    const errorText = document.getElementById('errorText');
    errorText.textContent = message;
    errorMessage.classList.remove('hidden');
    setTimeout(() => {
      errorMessage.classList.add('hidden');
    }, 5000);
  }

  // Initialize bio character count
  document.addEventListener('DOMContentLoaded', function() {
    const bioField = document.getElementById('bio');
    const bioCount = document.getElementById('bioCount');
    bioCount.textContent = bioField.value.length;
  });
</script>
</body>
</html>